<div class="main-game">
  <div class="dropdown-header" id="dropdownHeader">
    <div class="dropdown-score-container">
      <div class="home-team-header">
        <span>{{homeTeamShortName}}</span>
        <img [src]="homeTeamLogo" alt="" class="home-team-logo" *ngIf="!isHomeLogoLoading">
      </div>
      <div *ngIf="futureGame" class="game-day-time-container future-game">
        <span class="game-time-label">{{gameTime}}</span>
        <span class="game-day-label">{{gameDay}}</span>
        <span *ngIf="isPlayoffGame" class="playoff-series-label-dropdown">{{playoffSeriesDetails}}</span>
      </div>
      <div *ngIf="completedGame" class="game-score">
        <span class="game-score-label">{{gameScore}}</span>
        <span class="completed-status-label">{{completedGameStatus}}</span>
        <span *ngIf="isPlayoffGame" class="playoff-series-label-dropdown">{{playoffSeriesDetails}}</span>
      </div>
      <div *ngIf="liveGame" class="game-score">
        <span class="game-score-label">{{gameScore}}</span>
        <span class="live-status-label">{{liveGameStatus}}</span>
        <span *ngIf="isIntermission" title="Intermission Countdown" class="intermission-countdown">{{intermissionTimeRemaining}}</span>
      </div>
      <div class="away-team-header">
        <img [src]="awayTeamLogo" alt="" class="away-team-logo" *ngIf="!isAwayLogoLoading">
        <span>{{awayTeamShortName}}</span>
      </div>
    </div>
  </div>
  <div class="game-header" *ngIf="gameLiveData">
    <div class="league-info">
      <div class="games-back-button" (click)="backToPrevious()">
        <div class="back-icon">
          <mat-icon fontIcon="chevron_left"></mat-icon>
        </div>
        <span class="games-label">{{backButtonLabel}}</span>
      </div>
      <div class="league-info-container" [routerLink]="['/playoffs']">
        <img class="nhl-logo" src="assets/nhl_logo.png">
        <span class="league-info-label">{{gameInfoLabel}}</span>
      </div>
      <span class="info-label">{{tvInfo}}</span>
    </div>
    <div class="expanded-scorecard-container">
      <div class="main-score-container">
        <div class="home-team-header">
          <span class="team-name" [routerLink]="['/team', this.gameLiveData.gameData.teams.home.id]">{{homeTeamName}}</span>
          <img [src]="homeTeamLogo" [routerLink]="['/team', this.gameLiveData.gameData.teams.home.id]" alt="" class="home-team-logo" *ngIf="!isHomeLogoLoading">
        </div>
        <div *ngIf="futureGame" class="game-day-time-container future-game">
          <span class="game-time-label">{{gameTime}}</span>
          <span class="game-day-label">{{gameDay}}</span>
          <span *ngIf="isPlayoffGame" class="playoff-series-label-main">{{playoffSeriesDetails}}</span>
        </div>
        <div *ngIf="completedGame" class="game-score">
          <span class="game-score-label">{{gameScore}}</span>
          <span class="completed-status-label">{{completedGameStatus}}</span>
          <span *ngIf="isPlayoffGame" class="playoff-series-label-main">{{playoffSeriesDetails}}</span>
        </div>
        <div *ngIf="liveGame" class="game-score">
          <span class="game-score-label">{{gameScore}}</span>
          <span *ngIf="liveGame" class="live-status-label">{{liveGameStatus}}</span>
          <span *ngIf="isIntermission" title="Intermission Countdown" class="intermission-countdown">{{intermissionTimeRemaining}}</span>
        </div>
        <div class="away-team-header">
          <img [src]="awayTeamLogo" [routerLink]="['/team', this.gameLiveData.gameData.teams.away.id]" alt="" class="away-team-logo" *ngIf="!isAwayLogoLoading">
          <span class="team-name" [routerLink]="['/team', this.gameLiveData.gameData.teams.away.id]">{{awayTeamName}}</span>
        </div>
      </div>
      <app-goal-scorers
          *ngIf="haveGoalsBeenSCored"
          [numPeriods]="gameLinescore.periods.length"
          [homeTeamGoals]="homeTeamGoals"
          [awayTeamGoals]="awayTeamGoals"
          (scorerClicked)="openPlayerGameDialog($event)">
      </app-goal-scorers>
    </div>
    <div class="game-info-container">
      <div class="game-info-item game-date-time">
        <mat-icon fontIcon="calendar_today"></mat-icon>
        <span>{{gameDateTime}}</span>
      </div>
      <div class="game-info-item game-venue-container">
        <mat-icon fontIcon="stadium"></mat-icon>
        <span>{{gameVenue}}</span>
      </div>
      <div class="game-info-item game-tv-container">
        <mat-icon fontIcon="tv"></mat-icon>
        <a class="stream-link" [href]="gameStreamLink">Game Stream</a>
      </div>
    </div>
    <div class="game-info"></div>
  </div>
  <div *ngIf="!futureGame" class="game-container">
    <app-momentum
        [gameLiveData]="gameLiveData"
    ></app-momentum>
  </div>
  <div *ngIf="!futureGame" class="game-container">
    <app-event-timeline
        [gameLiveData]="gameLiveData"
        (playerClicked)="openPlayerGameDialog($event)"
    ></app-event-timeline>
  </div>
  <div *ngIf="!futureGame" class="game-container">
    <app-game-stats
        [homeTeamLogo]="homeTeamLogo"
        [awayTeamLogo]="awayTeamLogo"
        [gameLiveData]="gameLiveData"
    ></app-game-stats>
  </div>
  <div *ngIf="gameModel && !completedGame" class="game-container">
    <app-team-form
        [homeTeam]="gameModel.teams.home.team"
        [awayTeam]="gameModel.teams.away.team"
        [homeTeamGames]="homeTeamGames"
        [awayTeamGames]="awayTeamGames"
    ></app-team-form>
  </div>
</div>
